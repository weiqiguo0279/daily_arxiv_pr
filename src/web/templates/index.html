<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- 自定义样式 -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <!-- 顶部导航栏 -->
    <nav class="top-navbar">
        <div class="container-fluid">
            <div class="navbar-content">
                <div class="navbar-brand">
                    <img src="{{ url_for('static', filename='images/logo.svg') }}" alt="Logo" class="navbar-logo" onerror="this.style.display='none'">
                    <div class="brand-text">
                        <h1>{{ title }}</h1>
                        <p>{{ description }}</p>
                    </div>
                </div>
                <div class="navbar-actions">
                    <button class="btn-icon" id="github-link" title="GitHub" onclick="window.open('https://github.com', '_blank')">
                        <i class="fab fa-github"></i>
                    </button>
                    <button class="btn-icon" id="settings-btn" title="设置">
                        <i class="fas fa-cog"></i>
                    </button>
                    <button class="btn-icon" id="theme-toggle" title="切换主题">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- 主容器 -->
    <div class="main-wrapper">
        <!-- 侧边栏 -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h3>导航</h3>
                <button class="btn-icon sidebar-toggle" id="sidebar-toggle-btn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <nav class="sidebar-nav">
                <a href="#overview" class="nav-item active" data-section="overview">
                    <i class="fas fa-home"></i>
                    <span>概览</span>
                </a>
                <a href="#papers" class="nav-item" data-section="papers">
                    <i class="fas fa-file-alt"></i>
                    <span>论文列表</span>
                </a>
                <a href="#analysis" class="nav-item" data-section="analysis">
                    <i class="fas fa-chart-line"></i>
                    <span>趋势分析</span>
                </a>
                <a href="#statistics" class="nav-item" data-section="statistics">
                    <i class="fas fa-chart-bar"></i>
                    <span>统计数据</span>
                </a>
            </nav>

            <!-- 日历选择器 -->
            <div class="calendar-widget">
                <div class="calendar-header">
                    <button class="btn-icon" id="prev-month">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <h4 id="current-month">2025年10月</h4>
                    <button class="btn-icon" id="next-month">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                <div class="calendar-body" id="calendar-body">
                    <!-- Calendar will be generated by JS -->
                </div>
            </div>

            <!-- 类别筛选 -->
            <div class="category-filter">
                <h4>研究类别</h4>
                <div class="category-list" id="category-list">
                    <div class="loading-small">
                        <div class="spinner-small"></div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- 主内容区 -->
        <main class="main-content">
            <!-- 移动端菜单按钮 -->
            <button class="mobile-menu-btn" id="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>

            <!-- 概览部分 -->
            <section id="overview-section" class="content-section active">
                <!-- 统计卡片 -->
                <div class="stats-grid">
                    <div class="stat-card gradient-purple">
                        <div class="stat-icon">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="total-papers">-</div>
                            <div class="stat-label">今日论文</div>
                        </div>
                    </div>
                    <div class="stat-card gradient-blue">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="total-summaries">-</div>
                            <div class="stat-label">已分析</div>
                        </div>
                    </div>
                    <div class="stat-card gradient-green">
                        <div class="stat-icon">
                            <i class="fas fa-tags"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="total-categories">-</div>
                            <div class="stat-label">研究方向</div>
                        </div>
                    </div>
                    <div class="stat-card gradient-orange">
                        <div class="stat-icon">
                            <i class="fas fa-fire"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="hot-topics">-</div>
                            <div class="stat-label">热点话题</div>
                        </div>
                    </div>
                </div>

                <!-- 词云图 -->
                <div class="content-card">
                    <div class="card-header">
                        <div class="header-left">
                            <i class="fas fa-cloud"></i>
                            <h2>研究热点词云</h2>
                        </div>
                        <div class="header-right">
                            <span class="update-time" id="wordcloud-update">更新于 <span id="last-update-time">-</span></span>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="wordcloud-container" id="wordcloud-container">
                            <div class="loading">
                                <div class="spinner"></div>
                                <p>加载中...</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 热门论文预览 -->
                <div class="content-card">
                    <div class="card-header">
                        <div class="header-left">
                            <i class="fas fa-star"></i>
                            <h2>今日热门论文</h2>
                        </div>
                        <div class="header-right">
                            <a href="#papers" class="btn-link" data-section="papers">查看全部 <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                    <div class="card-body">
                        <div id="featured-papers">
                            <div class="loading">
                                <div class="spinner"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 论文列表部分 -->
            <section id="papers-section" class="content-section">
                <div class="section-header">
                    <h1>论文列表</h1>
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="search-input" placeholder="搜索论文标题、作者或关键词...">
                    </div>
                </div>

                <!-- 论文过滤和排序 -->
                <div class="filter-bar">
                    <div class="filter-group">
                        <label>类别:</label>
                        <select id="paper-category-filter" class="filter-select">
                            <option value="">全部类别</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>排序:</label>
                        <select id="paper-sort" class="filter-select">
                            <option value="date">按日期</option>
                            <option value="title">按标题</option>
                            <option value="citations">按引用</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>显示:</label>
                        <select id="papers-per-page" class="filter-select">
                            <option value="10">10 篇/页</option>
                            <option value="20" selected>20 篇/页</option>
                            <option value="50">50 篇/页</option>
                        </select>
                    </div>
                </div>

                <!-- 论文列表 -->
                <div id="papers-list" class="papers-list">
                    <div class="loading">
                        <div class="spinner"></div>
                        <p>加载论文中...</p>
                    </div>
                </div>

                <!-- 分页 -->
                <nav class="pagination-nav">
                    <ul class="pagination" id="pagination"></ul>
                </nav>
            </section>

            <!-- 趋势分析部分 -->
            <section id="analysis-section" class="content-section">
                <div class="section-header">
                    <h1>趋势分析</h1>
                    <p class="section-desc">基于 AI 的深度研究趋势分析</p>
                </div>

                <!-- 研究热点 -->
                <div class="content-card">
                    <div class="card-header">
                        <div class="header-left">
                            <i class="fas fa-fire"></i>
                            <h2>当前研究热点</h2>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="analysis-content" id="hotspots-content">
                            <div class="loading">
                                <div class="spinner"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 技术趋势 -->
                <div class="content-card">
                    <div class="card-header">
                        <div class="header-left">
                            <i class="fas fa-arrow-trend-up"></i>
                            <h2>技术趋势与演进</h2>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="analysis-content" id="trends-content">
                            <div class="loading">
                                <div class="spinner"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 未来方向 -->
                <div class="content-card">
                    <div class="card-header">
                        <div class="header-left">
                            <i class="fas fa-crystal-ball"></i>
                            <h2>未来发展方向</h2>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="analysis-content" id="future-content">
                            <div class="loading">
                                <div class="spinner"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 创新想法 -->
                <div class="content-card">
                    <div class="card-header">
                        <div class="header-left">
                            <i class="fas fa-lightbulb"></i>
                            <h2>创新研究想法</h2>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="analysis-content" id="ideas-content">
                            <div class="loading">
                                <div class="spinner"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 统计数据部分 -->
            <section id="statistics-section" class="content-section">
                <div class="section-header">
                    <h1>统计数据</h1>
                    <p class="section-desc">论文数据可视化分析</p>
                </div>

                <div class="content-card">
                    <div class="card-header">
                        <div class="header-left">
                            <i class="fas fa-chart-bar"></i>
                            <h2>类别分布</h2>
                        </div>
                    </div>
                    <div class="card-body">
                        <canvas id="category-chart"></canvas>
                    </div>
                </div>

                <div class="content-card">
                    <div class="card-header">
                        <div class="header-left">
                            <i class="fas fa-chart-line"></i>
                            <h2>论文趋势</h2>
                        </div>
                    </div>
                    <div class="card-body">
                        <canvas id="trend-chart"></canvas>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- 回到顶部按钮 -->
    <button class="back-to-top" id="back-to-top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>© 2025 Daily arXiv | 内容由AI生成，请仔细甄别 | Powered by Flask & AI</p>
        </div>
    </footer>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    
    <!-- 自定义 JS -->
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
